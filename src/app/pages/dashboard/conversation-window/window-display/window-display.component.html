<section>
  @if ((messages$ | async); as messages) {
  
    @if (messages.length > 0) {
    
      @for (message of messages; track $index) {
      
        @if (shouldShowDate($index)) {
          <div class="seperator-container flex flex-row place-items-center">
            <div class="seperator"></div>
              <p class="date">
              @if(postService.isPostCreatedToday(postInfo[$index])) {
                Heute
              } @else {
                {{days[message.createdAt.toDate().getDay()]}},
                {{message.createdAt.toDate().getDate()}}. 
                {{message.createdAt.toDate().toLocaleString('de-DE', { month: 'long' })}}
              }
            </p>
            <div class="seperator"></div>
          </div>
        }
      
        <app-displayed-post [post]="message"></app-displayed-post>
      }
    
    } @else {
      <span>Noch keine Messages vorhanden</span>
    }
    
  }  
</section>
