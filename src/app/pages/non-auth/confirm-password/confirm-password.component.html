<section class="flex flex-col items-center">
    <div class="headline flex flex-col w-full">
        <div class="title w-full">
            <button (click)="backToLogin()" class="btn-tertiary btn-back"
                (mouseenter)="arrowBackImg.src = './assets/img/arrow-back-hover.svg'"
                (mouseleave)="arrowBackImg.src = './assets/img/arrow-back.svg'">
                <img #arrowBackImg src="./assets/img/arrow-back.svg" alt="go back to previous page">
            </button>
            <h1>Passwort zurücksetzen</h1>
        </div>
        <p>Bitte geben Sie Ihre E-Mail-adresse ein.</p>
    </div>
    <form action="" class="form-group flex flex-col items-center w-full" [formGroup]="confirmForm"
        (ngSubmit)="onSubmit()">
        <div class="input-container flex flex-col w-full">
            <div>
                <div class="flex items-center relative">
                    <img class="input-icon absolute" src="./assets/img/mail.svg" alt="mail">
                    <input class="input-primary" id="emailId" type="text" placeholder="beispielname@email.com"
                        formControlName="email" required pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}">
                </div>
                
                <p class="error-message">
                    @if (showErrorMessage) {
                        E-mail-Addresse ist leider unbekannt.
                    }
                </p>
            </div>

            <p>Wir senden Ihnen eine E-Mail, über die Sie Ihr Passwort ändern können.</p>
            <div class="submit-btns flex items-end justify-end w-full">
                <button class="btn-primary" type="submit" [disabled]="!confirmForm.valid">E-Mail senden</button>
            </div>
        </div>
    </form>
</section>

<div [class.show-toast]="showToast" class="toast-notification">
    <img src="./assets/img/send-icon-white.svg" alt="send E-Mail icon">
    <span>E-Mail gesendet</span>
</div>