<div class="overlay-search-results-mobile">
  @if (results$.length > 0) {
  <ul class="results-list">
    @for (item of results$; track $index; let i = $index) { @if (i > 0 &&
    item.type !== results$[i - 1].type) {
    <span class="separable"></span>
    }
    <li>
      @switch (item.type) { @case ('user') {
      <app-user-list-item [user]="item" ></app-user-list-item>
      } @case ('channel') {
      <app-channel-list-item [channel]="item"></app-channel-list-item>
      } @case ('chatGroup') {
      <app-user-list-item
        [user]="item.user"
        [relatedToSearchResultPost]="true"
      ></app-user-list-item>
      <ul>
        @for (post of item.posts; track post.id) {
        <li>
          <app-post-list-item [post]="post"></app-post-list-item>
        </li>
        }
      </ul>
      } @case ('channelGroup') {
      <app-channel-list-item
        [channel]="item.channel"
        [relatedToSearchResultPost]="true"
      ></app-channel-list-item>
      <ul>
        @for (post of item.posts; track post.id) {
        <li>
          <app-post-list-item [post]="post"></app-post-list-item>
        </li>
        }
      </ul>
      } }
    </li>
    }
  </ul>
  } @else {
  <div class="results-list">Keine Treffer</div>
  }
</div>

<!-- (click)="overlayService.closeAll()" -->