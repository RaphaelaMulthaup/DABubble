<div
  [ngClass]="[
    onBottom ? 'overlay-bottom' : overlay,
    isClosing ? 'closing' : ''
  ]"
  class="flex"
>
  @if(channelDetails$ | async; as channelDetails){
  <div class="flex flex-col gap-[16px] w-full">
    @if(onBottom){
    <div class="flex w-full justify-center">
      <span
        class="rectangle"
        appRectangleDragClose
        (dragClose)="closeOverlay()"
      ></span>
    </div>
    }
    <div class="flex flex-col gap-[5px]">
      <app-header-overlay
        [overlayHeadline]="'Mitglieder hinzuf端gen'"
        [overlayRef]="overlayRef"
      />
      <div class="flex gap-[8px]">
        <span class="tag-color"> </span>
        <span class="flex w-full color">{{ channelDetails.name }}</span>
      </div>
    </div>
    <div (click)="toggleRadioBtn()" class="flex gap-[24px]">
      <div class="radio-btn"
      [ngClass]="(allContactsSelected$|async)? 'radio-btn-checked': 'radio-btn-unchecked'"></div>
      <p>Alle Kontakte hinzuf端gen</p>
    </div>
    <div (click)="toggleRadioBtn()" class="flex gap-[24px]">
      <div class="radio-btn"
      [ngClass]="(allContactsSelected$|async)? 'radio-btn-unchecked': 'radio-btn-checked'"></div>
      <p>Bestimmte Kontakte hinzuf端gen</p>
    </div>
    <div class="flex w-full flex-col gap-[20px]">
      <ul class="cont">
        @for(user of membersList; track $index){
        <li class="container">
          <img
            class="profil-img"
            src="{{ user.photoUrl || 'assets/img/no-avatar.svg' }}"
            alt="Profilbild"
            (error)="userService.setDefaultImg($event)"
          />
          <span>{{ getFirstWord(user.name) }}</span>
          <button (click)="removeFromList($index)">
            <div class="close"></div>
          </button>
        </li>
        }
        <li class="flex items-center">
          <input
            #addMemberSearchBar
            type="text"
            class=""
            [placeholder]="membersList.length > 0 ? '' : 'Name eingeben'"
            [formControl]="searchControl"
          />
        </li>
      </ul>
      <div class="flex w-full justify-end">
        <button
          class="btn-primary"
          (click)="addMembertoChannel(channelDetails.id!)"
          [disabled]="!(allContactsSelected$|async) && membersList.length === 0"
        >
        <span>Hinzuf端gen</span>
      </button>
      </div>
    </div>
  </div>
  }
</div>
